<ng-container *ngIf="authService.isLoggedIn()">

  <mat-card class="header-card">
    <app-button (reloadLeads)="loadLeads()"></app-button>
  </mat-card>

  <div class="list-container">
    <mat-card class="list-card" [perfectScrollbar]="scrollConfig">
      <mat-list>
        <mat-list-item *ngFor="let lead of leads">
          <app-lead
            [leadData]="lead"
            (loadProperty)="loadProperty($event)"
            (loadContact)="loadContact($event)"
          ></app-lead>
        </mat-list-item>
      </mat-list>
    </mat-card>

    <mat-card class="detail-card" [perfectScrollbar]="scrollConfig">
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Property Data
            </mat-panel-title>
            <mat-panel-description>

            </mat-panel-description>
          </mat-expansion-panel-header>
          <app-property></app-property>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Contact Data
            </mat-panel-title>
            <mat-panel-description>

            </mat-panel-description>
          </mat-expansion-panel-header>
          <app-contact></app-contact>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-card>

  </div>
</ng-container>

<ng-container *ngIf="!authService.isLoggedIn()">
  <div class="login-container">
    <mat-card class="login-card">
      <form (ngSubmit)="login()">
        <mat-form-field>
          <input name="username" matInput placeholder="username" [(ngModel)]="username" #ctrl="ngModel">
        </mat-form-field>
        <mat-form-field>
          <input type="password" name="password" matInput placeholder="password" [(ngModel)]="password" #ctrl="ngModel">
        </mat-form-field>
        <button type="submit" mat-raised-button>login</button>
      </form>
    </mat-card>
  </div>
</ng-container>

